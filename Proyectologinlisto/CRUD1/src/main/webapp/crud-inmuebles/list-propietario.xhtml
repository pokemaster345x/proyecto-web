<ui:composition template="/menu/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="content">
        <h1>Lista de Inmuebles de Propietarios</h1>

        <!-- Botón para agregar un nuevo propietario -->
        <h:form>
            <h:commandButton action="/crud-inmuebles/agregar_editar-propietario.xhtml"
                             value="Agregar Nuevo Propietario" styleClass="btn btn-primary mb-3" />
        </h:form>

        <!-- Tabla de propietarios -->
        <div class="card">
            <p:dataTable var="propietario" value="#{inmuebleBean.propietarios}" styleClass="table table-striped">

                <!-- Columna de opciones -->
                <p:column headerText="Acciones">
                    <h:form>
                        <h:commandButton value="Editar" action="#{inmuebleBean.editPropietario(propietario.codigo)}"
                                         styleClass="btn btn-warning btn-sm" />
                        <h:commandButton value="Eliminar" action="#{inmuebleBean.deletePropietario(propietario.codigo)}"
                                         styleClass="btn btn-danger btn-sm" />
                    </h:form>
                </p:column>

                <!-- Columna de Código -->
                <p:column headerText="Código">
                    <h:outputText value="#{propietario.codigo}" />
                </p:column>

                <!-- Columna de Tipo de Inmueble -->
                <p:column headerText="Tipo de Inmueble">
                    <h:outputText value="#{propietario.tipoInmueble}" />
                </p:column>

                <!-- Columna de Descripción -->
                <p:column headerText="Descripción">
                    <h:outputText value="#{propietario.descripcionInmueble}" />
                </p:column>

                <!-- Columna de Estado -->
                <p:column headerText="Estado">
                    <h:outputText value="#{propietario.estado ? 'Activo' : 'Inactivo'}" />
                </p:column>

            </p:dataTable>
        </div>
    </ui:define>
</ui:composition>
