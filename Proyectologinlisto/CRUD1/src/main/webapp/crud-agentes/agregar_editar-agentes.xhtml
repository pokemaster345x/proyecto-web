<ui:composition template="/menu/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
   <ui:define name="content">
      <title>Agregar/Editar Agente</title>

      <p:growl id="growl" showDetail="true" />

      <div class="container mt-4">
         <div class="row justify-content-center">
            <div class="col-md-8">
               <h2 class="text-center mb-4">Agregar/Editar Agente</h2>
               <div class="card shadow-sm">
                  <div class="card-body">
                     <h:form>
                        <!-- Campo para la cédula -->
                        <div class="form-group">
                           <label for="dni">Cédula</label>
                           <h:inputText id="dni" value="#{agenteBean.agente.cedula}" label="Cédula"
                                        required="true" disabled="#{agenteBean.editando}"
                                        styleClass="form-control">
                              <f:validateLongRange minimum="1" />
                           </h:inputText>
                           <h:message for="dni" class="text-danger small" />
                        </div>

                        <!-- Campo para el celular -->
                        <div class="form-group">
                           <label for="phone">Celular</label>
                           <h:inputText id="phone" value="#{agenteBean.agente.celular}" label="Celular"
                                        required="true" maxlength="15" styleClass="form-control">
                              <f:validateRegex pattern="^\d+$" />
                           </h:inputText>
                           <h:message for="phone" class="text-danger small" />
                        </div>

                        <!-- Campo para el nombre completo -->
                        <div class="form-group">
                           <label for="nombre">Nombre Completo</label>
                           <h:inputText id="nombre" value="#{agenteBean.agente.nombreCompleto}"
                                        label="Nombre Completo" required="true" maxlength="100"
                                        styleClass="form-control" />
                           <h:message for="nombre" class="text-danger small" />
                        </div>

                        <!-- Campo para la fecha de nacimiento -->
                        <div class="form-group">
                           <label for="nacimiento">Fecha de Nacimiento</label>
                           <p:datePicker id="nacimiento" value="#{agenteBean.agente.fechaNacimiento}"
                                         label="Fecha de Nacimiento" required="true" pattern="yyyy-MM-dd"
                                         styleClass="form-control" />
                           <h:message for="nacimiento" class="text-danger small" />
                        </div>

                        <!-- Campo para la fecha de expedición -->
                        <div class="form-group">
                           <label for="fechaexpedicion">Fecha de Expedición</label>
                           <p:datePicker id="fechaexpedicion" value="#{agenteBean.agente.fechaExpedicion}"
                                         label="Fecha de Expedición" required="true" pattern="yyyy-MM-dd"
                                         styleClass="form-control" />
                           <h:message for="fechaexpedicion" class="text-danger small" />
                        </div>

                        <!-- Campo para el login -->
                        <div class="form-group">
                           <label for="loguin">Login</label>
                           <h:inputText id="loguin" value="#{agenteBean.agente.loguin}" label="Login"
                                        required="true" maxlength="50" styleClass="form-control" />
                           <h:message for="loguin" class="text-danger small" />
                        </div>

                        <!-- Campo para la contraseña -->
                        <div class="form-group">
                           <label for="contrasena">Contraseña</label>
                           <h:inputText id="contrasena" value="#{agenteBean.agente.contrasena}"
                                        label="Contraseña" required="true" maxlength="50"
                                        styleClass="form-control" />
                           <h:message for="contrasena" class="text-danger small" />
                        </div>

                        <!-- Campo para el correo electrónico -->
                        <div class="form-group">
                           <label for="email">Correo Electrónico</label>
                           <h:inputText id="email" value="#{agenteBean.agente.correoElectronico}"
                                        label="Correo Electrónico" required="true"
                                        styleClass="form-control" />
                           <h:message for="email" class="text-danger small" />
                        </div>

                        <!-- Campo para la dirección -->
                        <div class="form-group">
                           <label for="direccion">Dirección</label>
                           <h:inputText id="direccion" value="#{agenteBean.agente.direccion}"
                                        label="Dirección" required="true" maxlength="200"
                                        styleClass="form-control" />
                           <h:message for="direccion" class="text-danger small" />
                        </div>

                        <!-- Botones de acción -->
                        <div class="form-group text-center mt-4">
                           <h:commandButton value="Guardar" action="#{agenteBean.create}"
                                            rendered="#{!agenteBean.editando}"
                                            styleClass="btn btn-primary" />
                           <p:commandButton value="Actualizar" action="#{agenteBean.update}"
                                            rendered="#{agenteBean.editando}"
                                            styleClass="btn btn-warning" />
                           <h:commandButton value="Cancelar"
                                            action="/crud-agentes/listar-agentes.xhtml?faces-redirect=true"
                                            styleClass="btn btn-secondary" />
                        </div>
                     </h:form>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </ui:define>
</ui:composition>
